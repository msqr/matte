<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">
	
	<bean id="webHelper" class="magoffin.matt.ma2.web.util.WebHelper">
		<property name="mediaBiz" ref="mediaBiz"/>
		<property name="userBiz" ref="userBiz"/>
		<property name="systemBiz" ref="systemBiz"/>
		<property name="workBiz" ref="workBiz"/>
		<property name="messageSource" ref="messageSource"/>
		<property name="domainObjectFactory" ref="domainObjectFactory"/>
	</bean>

	<bean id="testHomeController"  class="magoffin.matt.ma2.web.HomeController">
		<property name="domainObjectFactory" ref="domainObjectFactory"/>
		<property name="systemBiz" ref="systemBiz"/>
		<property name="webHelper" ref="webHelper"/>
		<property name="successView" value="home"/>
		<property name="userBiz" ref="userBiz"/>
	</bean>
	
	<bean id="testLogonForm" class="magoffin.matt.ma2.web.LogonForm">
		<property name="domainObjectFactory" ref="domainObjectFactory"/>
		<property name="systemBiz" ref="systemBiz"/>
		<property name="webHelper" ref="webHelper"/>
		<property name="userBiz" ref="userBiz"/>
		<property name="commandClass" value="magoffin.matt.ma2.support.LogonCommand"/>
		<property name="validator"><ref bean="logonValidator"/></property>
		<property name="formView" value="logon"/>
		<property name="successView" value="home-redirect"/>
	</bean>
	
	<bean id="testHomeView" class="magoffin.matt.xweb.util.XwebJaxbView">
		<property name="contentType" value="text/html; charset=UTF-8"/>
		<property name="cache" value="false"/>	
		<property name="jaxbContext" value="magoffin.matt.ma2.domain"/>
		<property name="messagesSource" ref="messageSource"/>
		<property name="webHelper" ref="webHelper"/>
		<property name="debugMessageResource" value="false"/>
		<property name="marshallerProperties">
			<map>
				<entry key="com.sun.xml.bind.namespacePrefixMapper">
					<ref bean="jaxbNamespacePrefixMapper"/>
				</entry>
			</map>
		</property>
		<property name="appSettingsCache">
			<bean name="schemaCache" class="org.springframework.cache.ehcache.EhCacheFactoryBean"> 
				<property name="cacheManager" ref="cacheManager"/> 
				<property name="cacheName" value="magoffin.matt.ma2.app_settings_cache"/> 
			</bean>
		</property>
		<!--property name="stylesheetLocation" value="web/WEB-INF/xsl/home.xsl"/-->
	</bean>
	

</beans>
